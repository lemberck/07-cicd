# Dockerized Sentiment Analysis MLOps Project

## Overview
This project exemplifies the integration of MLOps principles with `Docker`, focusing on creating a robust sentiment analysis application using `FastAPI`, `Streamlit` and `Poetry` for Python dependency management. It demonstrates how containerization can be leveraged for consistent development and deployment, ensuring scalability and environmental uniformity. 

The application utilizes FastAPI for its high-performance backend, capable of handling sentiment analysis efficiently, and Streamlit for an engaging and interactive front-end user experience. The use of Poetry streamlines package management, ensuring consistent dependencies across development and production setups.

Emphasizing automation, the project incorporates Docker for seamless deployment, ensuring each component operates in an isolated yet harmonized environment, facilitating both development agility and operational stability.

## Features
- **FastAPI Backend**: Robust API integrating SQLite for persistent storage, user authentication, and sentiment analysis.
- **Streamlit Frontend**: Interactive user interface for real-time text submission and sentiment analysis results display.
- **Docker Integration**: Containerized deployment ensuring environment consistency across the development, testing, and production spectrum.

## Project Structure
```bash
│
├── prd-scripts/ # Contains all the python scripts for the project
│ ├── main.py # The entry point of the FastAPI application
│ ├── auth.py # Handles user authentication
│ ├── database.py # Manages database connections and operations
│ ├── models.py # Pydantic models for structured request and response data
│ ├── sentiment_analysis.py # Sentiment analysis logic using transformers
│ └── streamlit_app.py # Streamlit frontend interface to interact with FastAPI
│
├── pyproject.toml # Poetry dependency management and project configurations
├── poetry.lock # Lock file to ensure reproducible installs, generated by poetry
└── Dockerfile # Instructions for Docker to build the FastAPI and Streamlit applications image
└── Dockerfile_no_streamlit # Alternate Dockerfile without Streamlit for just the FastAPI service
```

## Getting Started

### Build the Docker Image
- With Streamlit:
```shell
  docker build -t fastapi-poetry-streamlit .
```

- Without Streamlit:
```shell
docker build -t fastapi-poetry .
```

### Run the Container
- With Streamlit:
```shell
docker run -p 8080:8000 -p 8501:8501 fastapi-poetry-streamlit:latest
```

- Without Streamlit:
```shell
docker run -p 8080:8000 fastapi-poetry:latest
```

## Access the Applications
### **FastAPI Docs**: `http://localhost:8080/docs`

![fastdoc](https://github.com/lemberck/mlops/blob/main/04-docker/img/fast-docs.png)


### **Streamlit UI**: `http://localhost:8501`

![1](https://github.com/lemberck/mlops/blob/main/04-docker/img/streamlit1.png)
![2](https://github.com/lemberck/mlops/blob/main/04-docker/img/streamlit2.png)
![3](https://github.com/lemberck/mlops/blob/main/04-docker/img/streamlit3.png)
![4](https://github.com/lemberck/mlops/blob/main/04-docker/img/streamlit4.png)

